<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="600.0" prefWidth="800.0" stylesheets="@/css/styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.prioriza.controller.MainController">

    <!--top-->
    <top>
        <BorderPane styleClass="top-bar" prefHeight="60">
        <!-- centro -->
            <center>
                <StackPane>
                    <Label styleClass="section-title"
                           text="PRIORIZA - Gestor Inteligente de Tareas"
                           BorderPane.alignment="CENTER" />
                </StackPane>
            </center>
        <!-- derecha -->
            <right>
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Label fx:id="userLabel"
                           styleClass="user-label"
                           text="Usuario" />
                    <Button  text="Cerrar sesión"
                             onAction="#handleLogout"/>
                </HBox>
            </right>
        </BorderPane>
    </top>
    <center>
        <HBox alignment="CENTER" prefWidth="1000" spacing="10" styleClass="main-container" BorderPane.alignment="CENTER">

            <!--listas-->
            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                <Label styleClass="section-title" text="Mis listas" />
                <ListView fx:id="taskListView" VBox.vgrow="ALWAYS" />
                <HBox spacing="10">
                    <Button text="+ Nueva Lista" onAction="#handleNewList"/>
                    <Button text="Editar" onAction="#handleEditList"/>
                    <Button text="Eliminar" onAction="#handleDeleteListTask"/>
                </HBox>

            </VBox>

            <!--tareas-->
            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                <Label styleClass="section-title" text="Tareas" />

                <TableView fx:id="taskTableView" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colTitle" text="Título" />
                        <TableColumn fx:id="colDescription" text="Descripción" />
                        <TableColumn fx:id="colPriority" text="Prioridad" />
                        <TableColumn fx:id="colDueDate" text="Fecha" />
                        <TableColumn fx:id="colStatus" text="Estado" />
                    </columns>
                </TableView>
                <HBox spacing="10">
                    <Button text="+ Nueva Tarea"  onAction="#handleNewTask" />
                    <Button text="Editar" onAction="#handleEditTask"/>
                    <Button text="Eliminar" onAction="#handleDeleteTask"/>
                </HBox>
            </VBox>


            <!-- subtareas -->
            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                <Label styleClass="section-title" text="Subtareas" />
                <ListView fx:id="subTaskView" VBox.vgrow="ALWAYS" />
                <HBox spacing="10">
                    <Button text="+ Nueva Subtarea"  onAction="#handleNewSubTask" />
                    <Button text="Editar" onAction="#handleEditSubTask"/>
                    <Button text="Eliminar" onAction="#handleDeleteSubTask"/>
                </HBox>
            </VBox>
        </HBox>
    </center>

</BorderPane>
